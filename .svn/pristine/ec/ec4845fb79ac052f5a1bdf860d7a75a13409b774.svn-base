tables:
  footer_menu:
    fields:
      id: {type: int, length: 10, unsigned: 1, auto_increment: 1, notnull: 1, am: {type: integer}}
      pos: {type: int, length: 10, unsigned: 1, notnull: 1, am: {type: integer, htmltype: hidden}}
      title: {type: tinytext, notnull: 1, am: {type: string, req: 1, title: Заголовок}}
      pid: {type: int, length: 10, default: 0, notnull: 1, am: {type: integer, req: 0, null: Нет родительского элемента, title: Родительский элемент, htmltype: select}}
      url: {type: tinytext, notnull: 1, am: {type: string, req: 1, title: URL}}
      image: {type: tinytext, notnull: 0, am: {type: image, req: 0, title: Изображение}}
      active: {type: enum('yes','no'), default: 'yes', notnull: 1, am: {type: checkbox, title: Отображать на сайте, otitle: Отображать на сайте, default: 'yes', checked: 'yes', unchecked: 'no', values: {no: нет, yes: да}}}
    table:
      PRIMARY KEY: id
      KEYS:
        active: [active]
    foreign:
      pid_ttl: {table: footer_menu, field: title, use_ref: footer_menu2footer_menu, am: pid}
    actions:
      list: [id, pos, title, pid_ttl, url, image, active]
      show: [pos, title, pid, url, image, active]
      modify: [title, pid, url, image, active]
      add: [title, pid, url, image, active]
      site_list: [id, pos, title, pid, url, image, active]
      pid_list: [id, pos, title, pid]
    images:
      image:
        middle: {w: 50, h: 50, ratio: 'equal', cut: 5}
refs:
  footer_menu2footer_menu: {type: M-1, self: [pid, id], join: LEFT, alias: menu_title}
