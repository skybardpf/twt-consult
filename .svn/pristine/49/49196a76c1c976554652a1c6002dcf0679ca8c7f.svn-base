tables:
  calculator_req:
    fields:
      id: {type: int, length: 10, unsigned: 1, auto_increment: 1, notnull: 1, am: {type: integer, title: Номер}}
      req_num: {type: tinytext, am: {type: string, title: Номер заявки}}
      req_status: {type: enum('yes','no'), default: 'no', notnull: 1, am: {type: string, title: Отправлено, htmltype: checkbox, default: 'no', checked: 'yes', unchecked: 'no', values: {no: нет, yes: да}}}
      tnved: {type: "enum('yes','no')", default: 'no', notnull: 1, am: {type: radio, title: Способ выбора товаров, htmltype: radio, req: 1, default: 'no', checked: 'yes', unchecked: 'no', values: {yes: По кодам ТНВЭД, no: По кодам категорий}}}
      created: {type: date, notnull: 1, am: {type: date, req: 1, title: Дата заявки}}
#      url: {type: tinytext, am: {type: string, title: URL}}
      contact: {type: tinytext, notnull: 1, am: {type: string, req: 1, title: Контактное лицо}}
      phone: {type: tinytext, notnull: 1, am: {type: string, req: 1, title: Контактный телефон}}
      mail: {type: tinytext, notnull: 1, am: {type: mail, req: 1, title: Контактный e-mail}}
      bank_id: {am: {type: select, null: Не выбран, title: Банк, req: 1}}
      currency: {am: {type: select, null: Не выбрана, req: 1, title: Валюта}}
      user_id: {type: int, notnull: 1, unsigned: 1, am: {type: select, title: Пользователь}}
      summ: {type: int, notnull: 0, am: {type: integer, title: Стоимость, attrs: {maxlength: 9}}}
      codes:
        virtual: 1
        ref_to:
          virtual: 1
          table: codes
          fields: [id, name]
          use_ref: orders2codes
        am: {type: tselect, url: '/getCodes/', l2sr: 4, title: Код, field_name: title, title_field: title, attrs: {maxlength: 10}}

    table:
      PRIMARY KEY: id
    foreign:
      bank: {table: banks, field: title, use_ref: accounts2banks}
    actions:
      list: [id, created, req_num, req_status, contact, phone, mail, turnover, sources, own_sources]
      show: [created, req_num, req_status, contact, phone, mail, turnover, country_source, country_receiver, sources, own_sources]
      modify: [req_num, req_status, contact, phone, mail, turnover, country_receiver, country_source, sources, own_sources]
      add: [req_num, req_status, contact, phone, mail, turnover, country_source, country_receiver, sources, own_sources]
      site_form: [tnved, currency, codes, summ]
      site_form_check: [contact, phone, mail, turnover, country_source, country_receiver, sources, own_sources]
      site_mail: [contact, phone, mail, turnover, country_source, country_receiver, sources, own_sources]
      cabinet: [id, created, turnover]
      showorder: [id, created, contact, phone, mail, turnover, country_source, country_receiver, sources, own_sources]

  currencies:
    dont_install: 1
    fields:
      id: {type: int, length: 10, auto_increment: 1, notnull: 1, am: {type: integer}}
      title: {type: tinytext, notnull: 1, am: {type: string, req: 1, title: Название}}
      pos: {type: int, length: 10, unsigned: 1, notnull: 1, am: {type: integer, htmltype: hidden}}
      code: {type: varchar, length: '255', notnull: 1, am: {type: string, req: 1, title: Код, trimNE: 'Поле "Код" не должно быть пустым'}}
      active: {type: enum('yes','no'), default: 'yes', notnull: 1, am: {type: checkbox, title: Отображать на сайте, otitle: Отображать на сайте, default: 'yes', checked: 'yes', unchecked: 'no', values: {no: нет, yes: да}}}

  tnved:
    fields:
      code: {type: varchar, length: 255, notnull: 1, am: {type: string, title: Код}}
      title: {type: text, notnull: 1, am: {type: string, req: 1, title: Название}}
    table:
      KEYS:
        code: [code]

mail:
  message_accounts:
    from: 'no_reply@twt.ru'
    subject: 'Новая заявка на юр. лицо № [req_id]'
    type: text/html
    message: |
      <p>Здравствуйте</p>
      <br>Вы подали заявку на сайте [site_name]
      <br>Номер заявки: [req_id]
      <br>Дата заявки: [created]
      <br>Контактное лицо: [contact]
      <br>Контактный телефон: [phone]
      <br>Контактный e-mail: [mail]
      <br>Счета: [accounts]
      <br>Ожидаемый оборот: [turnover]
      <br>Страны источники: [country_source]
      <br>Страны приемники: [country_receiver]
      <br>Источники происхождения ДС: [sources]
  message_admin:
    from: 'no_reply@twtconsult.com'
    subject: 'Поступила заявка на открытие счета № [req_id]'
    type: text/html
    message: |
      <p>[NO_REST]</p> 
      <p>Поступила заявка на открытие счета № [req_id]</p> <br />
      Номер заявки: [req_id] <br />
      Дата заявки: [created] <br />
      Контактное лицо: [contact] <br />
      Контактный телефон: [phone] <br />
      Контактный e-mail: [mail] <br />
      Счета: [accounts] <br />
      Страны источники: [country_source] <br />
      Страны приемники: [country_receiver] <br />
      Источники происхождения ДС: [sources] <br />
      Свои источники происхождения ДС: [own_sources] 
      <div>Строка 1С: [json]</div>
  repl:
    site_name: "TWT"
  date_format: H:i:s d.m.Y
